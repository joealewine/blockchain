---

copyright:
  years: 2017, 2018
lastupdated: "2018-03-16"

---

{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:codeblock: .codeblock}
{:screen: .screen}
{:pre: .pre}

# スターター・プラン・ネットワークの運用
{: #operate-starter-plan-network}

{{site.data.keyword.blockchainfull}} Platform に用意されたネットワーク・モニターにはブロックチェーン環境の概要が示されるので、ネットワーク・リソース、メンバー、結合されたチャネル、トランザクション・パフォーマンス・データ、デプロイされたチェーンコードなどを把握できます。また、ネットワーク・モニターにはエントリー・ポイントとしての役割もあり、そこから Swagger API を実行したり、{{site.data.keyword.blockchainfull_notm}} Platform: Develop を使用してネットワークを開発したり、サンプル・アプリケーションを試したりできます。
{:shortdesc}

ネットワーク・モニターの 3 つのセクションには、以下の画面が表示されます。ネットワーク・モニターの左側のナビゲーターから各画面にナビゲートできます。
- **「マイ・ネットワーク」**セクションには、[「概説」](#overview)、[「メンバー」](#members)、[「チャネル」](#channels)、[「通知」](#notifications)、および[「API」](#apis)の各画面が表示されます。
- **「マイ・コード」**セクションには、[「コードの書き込み」](#write_code)、[「コードのインストール」](#chaincode)および[「サンプルの試行」](#samples)の各画面が含まれます。
- [「ヘルプの利用」](#support)画面。

ネットワーク・モニターの右上にあるドロップダウン・メニューから、所有する[組織を切り替え](#switch_organizations)、[ネットワークをリセット](#reset_network)することができます。

このチュートリアルでは、上記の各画面および機能について説明します。

## 概要
{: #overview}

「概要」画面には、順序付けサービス、CA、ピアなどのブロックチェーン・リソースについてのリアルタイムの状況情報が表示されます。 **「タイプ」**、**「名前」**、**「状況」**、**「アクション」** という 4 つの別々のヘッダーの下に各リソースが表示されます。 ネットワークが開始すると、1 つの順序付けプログラム、1 つの CA、1 つのピアが実行されます。CA は組織に固有ですが、順序付けプログラムはネットワーク全体で共有される共通のエンドポイントです。

**図 1** に「概要」画面を示します。

![「概要」画面](images/myresources_starter.png "ネットワークの概要")
*図 1. ネットワークの概要*

### ノード・アクション
  表の**「アクション」**ヘッダーには、コンポーネントを開始または停止するためのボタンがあります。 複数のノードを選択し、**「選択済みを開始 (Start Selected)」**ボタンまたは**「選択済みを停止 (Stop Selected)」**ボタンをクリックして、ノードのグループを開始または停止することもできます。 **「選択済みを開始 (Start Selected)」**ボタンまたは**「選択済みを停止 (Stop Selected)」**ボタンは、1 つまたは複数のノードを選択すると、表の上部に表示されます。

  **「アクション」**ヘッダーの下のドロップダウン・リストから**「ログの表示 (View Logs)」**をクリックして、コンポーネントのログを確認することもできます。 ログでは、さまざまなネットワーク・リソース間で出された呼び出しを調べることができるため、デバッグやトラブルシューティングに役立ちます。例えば、ピアを停止してトランザクションでそれをターゲットにしようとすると、接続エラーが発生します。ピアを再始動してトランザクションを再試行すると、接続が成功します。 チャネルがトランザクション処理を続行しているときに、長期間にわたってピアをダウン状態のままにすることもできます。 ピアが再び稼働すると、台帳が同期されていることが分かります。これは、ピアがダウン状態の間にコミットされたブロックを受信するためです。台帳が完全に同期されたら、通常の呼び出しとそれに対する照会を実行できます。

### 接続プロファイル
  **「接続プロファイル」 **ボタンをクリックすると、各リソースの低レベル・ネットワーク情報についての JSONファイルが表示されます。 接続プロファイルには、アプリケーションに必要なすべての構成情報が含まれています。ただし、このファイルには特定のコンポーネントと順序付けプログラムのアドレスのみが含まれているため、追加のピアをターゲットにする必要がある場合は、それらのエンドポイントを取得する必要があります。「url」を含むヘッダーに、各コンポーネントの API エンドポイントが表示されます。 クライアント・サイド・アプリケーションから特定のネットワーク・コンポーネントをターゲットにするためには、これらのエンドポイントが必要です。また、エンドポイントの定義は一般にはアプリに付随する JSON モデルの構成ファイルに存在します。 組織外のピアからの承認を必要とするアプリケーションをカスタマイズする場合は、担当のオペレーターからアウト・オブ・バンド操作でそのピアの IP アドレスを取得する必要があります。 クライアントは、応答を返してもらう必要のあるすべてのピアに接続できなければなりません。

### ピアの追加
{: #peers}
  ネットワーク・メンバーにはピアが必要です。ピアでは、ネットワーク台帳のコピーを保管し、チェーンコードを実行して台帳を照会または更新する必要があります。エンドースメント・ポリシーがピアをエンドース・ピアとして定義している場合、ピアはエンドースメント結果もアプリケーションに返します。

  スターター・プランは、デフォルトでは 2 つの組織のそれぞれにピアを 1 つずつ作成します。独自の要件に基づいて、組織にさらにピアを追加できます。追加のピアが必要なさまざまなシナリオが考えられます。例えば、冗長性のために複数のピアが同じチャネルに参加するようにすることができます。各ピアが、チャネルのトランザクションを処理して、それぞれの台帳のコピーに書き込みます。ピアの 1 つが失敗した場合、もう一方のピア (または複数の他のピア) は、トランザクションとアプリケーション要求の処理を続行できます。さらに、すべてのアプリケーション要求を複数のピアに均等にロード・バランシングすることも、機能ごとに異なるピアをターゲットにすることもできます。例えば、あるピアを台帳の照会用に使用し、別のピアを台帳更新のエンドースメント処理用に使用することができます。

  右上の**「ピアの追加」**ボタンをクリックして、ネットワークにピア・ノードを追加できます。 ポップアップの「ピアの追加」パネルで、追加するピア・ノードの数とサイズを選択します。


## メンバー
{: #members}

「メンバー」画面には、ネットワーク・メンバー情報を表示する「メンバー」タブと、証明書情報を表示する「証明書」タブという 2 つのタブがあります。

### メンバー
{: #members_tab}
**図 2** に、ネットワーク・メンバーが「メンバー」タブに表示されている「メンバー」画面の初期画面を示します。

![「メンバー」画面の「メンバー」タブ](images/monitor_members_starter.png "ネットワーク・メンバー")
*図 2. ネットワーク・メンバー*

**「メンバーの追加」**をクリックして、ネットワークにさらにメンバーを招待します。スターター・プランには、次の 2 つのオプションがあります。
- **「メンバーの招待 (Invite a member)」**。ネットワークのメンバーになるように他の組織を招待できます。招待された組織は、ネットワークに参加して共同作業を行えるようになります。
- **「メンバーの作成 (Create member)」**。ユーザー自身の E メール・アドレスを使用してメンバーを作成することもできます。スターター・プランにデフォルトで用意されている 2 つの組織を制御できるのと同じように、ユーザーは自分で作成したメンバーも制御できます。

**図 3** に「メンバーの追加」ウィンドウを示します。

![メンバーの追加](images/invite_member_starter.png "メンバーの追加")
*図 3. メンバーの追加*

### 証明書
**図 4** に、メンバーの証明書が「証明書」タブに表示されている「メンバー」画面の初期画面を示します。

![「メンバー」画面の「証明書」タブ](images/monitor_certificates_starter.png "証明書")
*図 4. 証明書*

オペレーターは、同じ機関に属するメンバーの証明書を「証明書」タブで管理できます。 **「証明書の追加」**をクリックして、「証明書の追加」パネルを開きます。 証明書に名前を指定し、「鍵」フィールドにクライアント・サイドの PEM 形式の証明書を貼り付け、**「実行依頼 (Submit)」**をクリックします。 このクライアント・サイドの証明書を有効にするためにピアを再始動する必要があります。

証明書の鍵の生成について詳しくは、[クライアント・サイドの証明書の生成](v10_application.html#generating-the-client-side-certificates)を参照してください。


## チャネル
{: #channels}

チャネルは、プライベート・トランザクションを実行する必要があるネットワーク・メンバーのサブセットで構成されます。チャネルに属するメンバーは、チャネル固有のルールを確立し、メンバーのみがアクセスできる独自の台帳を使用できるので、データの分離と機密性を確保できます。トランザクションを実行するためには、すべてのネットワークに 1 つ以上のチャネルが必要です。 チャネルごとに固有の台帳があり、その台帳に対して読み取り/書き込み操作を実行するには、ユーザーは正しく認証される必要があります。 チャネルに参加していないユーザーは、データを表示できません。

**図 5** に、ネットワークのすべてのチャネルの概要を表示するダッシュボードの初期画面を示します。

![チャネル](images/channels_starter.png "チャネル")
*図 5. チャネル*

チャネルを作成すると、チャネル固有の台帳が生成されます。 詳しくは、[チャネルの作成](howto/create_channel.html)を参照してください。

また、既存のチャネルを選択して、チャネル、メンバーシップ、アクティブ・チェーンコードに関する詳細を表示することもできます。 詳しくは、[ネットワークのモニター](howto/monitor_network.html)を参照してください。


## 通知
{: #notifications}

「通知」画面では、保留中の要求を処理したり、完了した要求を表示したりできます。

**図 6** に「通知」画面を示します。

![通知](images/notifications_starter.png "通知")
*図 6. 通知*

チャネルを作成した場合、または新規チャネルに招待された場合、ネットワーク・モニターに通知が表示されます。

要求は「すべて」、「保留中」、「完了」の各サブタブにグループ分けされています。 各サブタブに含まれている要求の数が、ヘッダーの後ろに表示されています。
   * 「すべて」サブタブには、すべての要求が含まれています。
   * 承認も拒否もしていない要求、まだ参照していない要求は、「処理待ち (Pending)」サブタブに含まれています。 **「要求の確認 (Review Request)」**ボタンをクリックし、チャネル・ポリシーやメンバーなども含めて要求と投票状況を確認します。 チャネル・オペレーターは、要求の**受諾**または**拒否**を行なったり、**「後で」**をクリックしてそれを別の時に処理したりできます。 要求が十分な数のチャネル・オペレーターから承認された場合は、**「要求の実行依頼 (Submit Request)」**をクリックしてチャネルの更新をアクティブ化します。
   * 実行依頼した要求は「完了」サブタブに表示されます。  **「要求の確認 (Review Request)」**をクリックして、その詳細を確認できます。

要求のリストが長い場合は、上部の検索フィールドで要求を検索できます。

保留中の要求は、要求の前のチェック・ボックスを選択し、**「要求の削除 (Delete Request)」**をクリックして削除できます。


## API
{: #apis}

アプリケーション開発を容易にするために、{{site.data.keyword.blockchainfull_notm}} Platform は、Swagger UI でネットワークに対してテストできる API を公開しています。

**図 7** に「API」画面を示します。

![API](images/API_screen_starter.png "API")
*図 7. API*

**「Swagger UI」**リンクをクリックして Swagger UI を開きます。API を実行するには、その前にネットワーク資格情報 (この API ページにあります) を使用して Swagger UI に権限を与える必要があることに注意してください。詳しくは、[Swagger API の使用](howto/swagger_apis.html)を参照してください。


## コードの書き込み
{: #write-code}

スターター・プランは、{{site.data.keyword.blockchainfull_notm}} Platform: Develop を統合し、業界標準のツールとテクノロジーを備えた開発環境を提供します。オンラインまたはローカルのいずれの環境でもネットワークを開発できます。ネットワークを開発した後、そのネットワークをスターター・プラン・ネットワークにデプロイすることができます。

**図 8** に「コードの書き込み」画面を示します。

![コードの書き込み](images/write_code_starter.png "コードの書き込み")
*図 8. コードの書き込み*

スターター・プランを使用したコードの開発とデプロイについて詳しくは、[スターター・プランでのビジネス・ネットワークのデプロイ](develop_starter.html)を参照してください。


## コードのインストール
{: #chaincode}

チェーンコードは、「スマート・コントラクト」とも呼ばれるソフトウェアの一部分で、そこには台帳を照会および更新するための機能一式が含まれています。これらはピアにインストールされ、チャネル上でインスタンス化されます。

**図 9** に「コードのインストール」画面を示します。

![コードのインストール](images/chaincode_install_overview_starter.png "コードのインストール")
*図 9. チェーンコード*

チェーンコードは、まずピアのファイル・システムにインストールされてから、チャネルでインスタンス化されます。 詳しくは、[チェーンコードのインストールとインスタンス化](howto/install_instantiate_chaincode.html)を参照してください。


## サンプルの試行
{: #samples}

サンプル・アプリケーションは、ブロックチェーン・ネットワークとアプリケーション開発についての理解を深めるのに役立ちます。スターター・プランを使用すると、ネットワーク・モニターでサンプル・アプリケーションをデプロイして起動することができます。

**図 10** に「サンプル」画面を示します。

![サンプルの試行](images/sample_overview_starter.png "サンプルの試行")
*図 10. 「サンプル」*

サンプル・デプロイメントでは、[DevOps ツールチェーン・サービス ![外部リンク・アイコン](images/external_link.svg "外部リンク・アイコン")](https://console.bluemix.net/devops/toolchains) を利用することによって、ソース管理プロセスとデリバリー・パイプラインを自動化し、チェーンコードを有効化します。サンプル・アプリケーションを選択し、**「Deploy via Toolchain」**をクリックします。詳しくは、[サンプル・アプリケーションの開発](howto/prebuilt_samples.html)を参照してください。


## ヘルプの利用
{: #support}

「ヘルプの利用」画面には 2 つのタブがあります。「サポート」タブではサポート情報を提供し、「リリース・ノート」タブでは各リリースの新機能や変更された機能を記載しています。

**図 11** に、サポート情報が「サポート」タブに表示されている「サポート」画面の初期画面を示します。

![サポート](images/support_starter.png "サポート")
*図 11. ブロックチェーンのサポート*

この画面のリンクおよびリソースを使用して、トラブルシューティング・フォーラムおよびサポート・フォーラムにアクセスします。

* [{{site.data.keyword.blockchainfull_notm}} サービス資料](index.html)の**概説** (この資料サイト) には、{{site.data.keyword.Bluemix_notm}} で {{site.data.keyword.blockchainfull}} Platform を初めて使用する場合のガイドが用意されています。左側のナビゲーターから対応するトピックを見つけるか、上部の検索機能を使用して用語を検索できます。
* [IBM Developer Works ![外部リンク・アイコン](images/external_link.svg "外部リンク・アイコン")](https://developer.ibm.com/blockchain/) の**コミュニティーのヘルプ**には、開発者向けのリソースや情報があります。
* **サポート・チケット**の下の [IBM dWAnswers ![外部リンク・アイコン](images/external_link.svg "外部リンク・アイコン")](https://developer.ibm.com/answers/smartspace/blockchain/) は、質問と回答のやり取りを行うプラットフォームの役割を果たします。 過去に投稿された質問から回答を探したり、新しい質問を送信したりできます。 質問にはキーワード **blockchain** を含めてください。
  また、**「{{site.data.keyword.Bluemix_notm}} サポート・チケットのオープン」** オプションを使用して、チケットを {{site.data.keyword.blockchainfull_notm}} サポート・チームに送信することもできます。  該当する特定の {{site.data.keyword.Bluemix_notm}} インスタンスの詳細およびコード・スニペットを提供してください。
* [サンプル・アプリケーション ![外部リンク・アイコン](images/external_link.svg "外部リンク・アイコン")](https://github.com/ibm-blockchain) の**ブロックチェーン・サンプル・アプリケーション**には、アプリケーションの開発を支援するガイドやサンプル・コード・スニペットが用意されています。
* [Hyperledger Fabric ![外部リンク・アイコン](images/external_link.svg "外部リンク・アイコン")](http://hyperledger-fabric.readthedocs.io/) と [Hyperledger Fabric コミュニティー ![外部リンク・アイコン](images/external_link.svg "外部リンク・アイコン")](http://jira.hyperledger.org/secure/Dashboard.jspa) の **Hyperledger Fabric** には、Hyperledger Fabric スタックに関する詳細を調べることができます。
  [Hyperledger Expert ![外部リンク・アイコン](images/external_link.svg "外部リンク・アイコン")](https://chat.hyperledger.org/channel/general) では、Hyperledger Fabric コードについて質問することができます。

問題をデバッグできない場合、または質問に対する回答が見つからない場合は、IBM クラウド・サービス・ポータルでサポート・ケースを送信してください。詳しくは、[サポートのページ](ibmblockchain_support.html)を参照してください。

**図 12** に示す最初の「サポート」画面の「リリース・ノート」タブには、各リリースの新機能と変更された機能が表示されています。

![リリース・ノート helios](images/releasenotes_helios_starter.png "リリース・ノート helios")
![リリース・ノート Fabric](images/releasenotes_Fabric_starter.png "リリース・ノート Fabric")
*図 12. リリース・ノート*


## 組織の切り替え
{: #switch-organizations}

複数組織のブロックチェーン・ネットワークを自分でシミュレートする場合、所有する任意の組織 (組織 A など) に切り替えることができます。その後、ネットワーク・モニターで組織 A のネットワーク・リソース (ピア、チャネル、チェーンコードなど) を表示して管理することができます。このフィーチャーにより、チャネル・ポリシーに従ってチャネルを作成し、複数の組織のピアをチャネルに追加できます。

UI の右上隅をクリックすると、自分の名前が表示されます。**「組織の切り替え (SWITCH ORGANIZATION)」**の下のドロップダウン・メニューから、切り替え先の組織名を選択します。組織 A はデフォルトで選択されています。切り替え先の組織を選択すると、ネットワーク・モニターが自動的に最新表示され、その組織のネットワークを表示できます。

**図 13** に「組織の切り替え」機能を示します。

![組織の切り替え](images/switch_orgs.png "組織の切り替え")
*図 13. 「組織の切り替え」*


## ネットワークのリセット
{: #reset-network}

スターター・プランは、ネットワークを削除して再作成することなく、ネットワーク構成を編集する機能を提供します。ネットワークは初期ネットワーク構成にリセットできます。つまり、 2 つの組織、組織ごとに 1 つのピア、1 つのデフォルト・チャネルという構成になります。これはとても便利な機能で、例えばブロックチェーン・ネットワークのテストを繰り返し実行するときに、比較的クリーンなネットワークからやり直すことができます。

**注意**: ネットワークをリセットすると、ピア、順序付けプログラム、CA の API エンドポイントが変更されます。アプリケーションで API エンドポイント情報を調整する必要があります。

右上隅をクリックして、ドロップダウン・メニューを開きます。メニューの**「ネットワークのリセット」**ボタンをクリックします。ネットワークをリセットする準備ができたら、**「OK」**をクリックして続行します。ネットワーク・モニターが最新表示され、新しい設定が反映されます。

**図 14** に「組織の切り替え」機能を示します。

![ネットワークのリセット](images/reset_network.png "ネットワークのリセット")
*図 14. 「ネットワークのリセット」*
